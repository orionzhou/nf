process.conda = '/home/springer/zhoux379/software/miniconda3/envs/sarek'

params {
  qcdir = '/home/springer/zhoux379/projects/rnaseq/data/11_qc'
  webdir = '/home/springer/zhoux379/git/orionzhou.github.io/public/multiqc'
  ase_dir = '/home/springer/zhoux379/projects/reseq/data/cache/vt01/22_bcf'
  win11 = "$ref/15_intervals/20.win11.tsv"
  win56 = "$ref/15_intervals/20.win56.tsv"
  win127 = "$ref/15_intervals/20.win127.tsv"
}

process {
  withName:Get_software_versions { executor = 'local' }
  withName:outdoc { executor = 'local' }
  withName:trim {
    cpus = { check_max( 1, 'cpus' ) }
    memory = { check_max( 15.GB + 10.GB * task.attempt, 'memory' ) }
    time = { check_max( 8.h * task.attempt, 'time' ) }
  }
  withName:bamsort {
    cpus = { check_max( 4, 'cpus' ) }
    memory = { check_max( 20.GB + 10.GB * task.attempt, 'memory' ) }
    time = { check_max( 5.h + 5.h * task.attempt, 'time' ) }
  }
  withName:pseq {
    cpus = { check_max( 1, 'cpus' ) }
    memory = { check_max( 20.GB + 10.GB * task.attempt, 'memory' ) }
    time = { check_max( 0.h + 10.h * task.attempt, 'time' ) }
  }
  withName:markdup {
    cpus = { check_max( 1, 'cpus' ) }
    memory = { check_max( 20.GB + 10.GB * task.attempt, 'memory' ) }
    time = { check_max( 5.h + 10.h * task.attempt, 'time' ) }
  }
  withName:mqc {
    cpus = { check_max( 1, 'cpus' ) }
    memory = { check_max( 5.GB + 10.GB * task.attempt, 'memory' ) }
    time = { check_max( 5.h + 5.h * task.attempt, 'time' ) }
  }
  withName:HaplotypeCaller {
    cpus = { check_max( 1, 'cpus' ) }
    memory = { check_max( 20.GB + 10.GB * task.attempt, 'memory' ) }
    time = { check_max( 10.h + 5.h * task.attempt, 'time' ) }
  }
}
